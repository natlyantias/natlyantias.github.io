<!DOCTYPE html>
<html>
  <head>
    <title>Checkout</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="checkout.js"></script>
  </head>
  <body>
    <h1>Checkout</h1>
    <hr>
    <section id="order-summary"></section>
    <hr>
    <h2>Customer Information</h2>
    <form>
      <fieldset>
        <legend>Personal Information:</legend>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" required><br>
        <label for="email">Email:</label>
        <input type="email" name="email" id="email" required><br>
        <label for="phone">Phone:</label>
        <input type="tel" name="phone" id="phone" required><br>
      </fieldset>
      <fieldset>
        <legend>Payment Information:</legend>
        <label for="card-number">Card Number:</label>
        <input type="text" name="card-number" id="card-number" required><br>
        <label for="exp-date">Expiration Date:</label>
        <input type="text" name="exp-date" id="exp-date" required><br>
        <label for="cvv">CVV:</label>
        <input type="text" name="cvv" id="cvv" required><br>
      </fieldset>
      <button type="submit" id="place-order-button">Place Order</button>
    </form>
    <script>
      const orderSummaryElement = document.querySelector('#order-summary');

      function calculateTotal() {
        let total = 0;
        const items = document.querySelectorAll('.item');
        items.forEach(item => {
          const quantity = parseInt(item.querySelector('.quantity').value);
          const price = parseFloat(item.dataset.price);
          total += quantity * price;
        });
        orderSummaryElement.querySelector('#total').textContent = total.toFixed(2);
      }

      function updateQuantity(event) {
        calculateTotal();
      }

      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      let html = '<table><tr><th>Item</th><th>Quantity</th><th>Price</th></tr>';
      cart.forEach(item => {
        html += `
          <tr class="item" data-name="${item.name}" data-price="${item.price}">
            <td>${item.name}</td>
            <td><input type="number" class="quantity" value="1" min="1" max="10"></td>
            <td>${item.price}</td>
          </tr>
        `;
      });
      html += `<tr><td colspan="2">Total:</td><td id="total">0.00</td></tr></table>`;
      orderSummaryElement.innerHTML = html;

      const quantityInputs = document.querySelectorAll('.quantity');
      quantityInputs.forEach(input => {
        input.addEventListener('input', updateQuantity);
      });
    </script>
  </body>
</html>
